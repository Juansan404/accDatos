<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SARUMAN</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>
        ENEMIGOS MORTALES DE SARUMAN
    </h1>

    <div id="loading">Cargando enemigos...</div>

    <table id="tablaEnemigos" style="display:none;">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Género</th>
                <th>País Origen</th>
                <th>Nivel Amenaza</th>
                <th>Activo</th>
            </tr>
        </thead>
        <tbody id="listaEnemigos">
        </tbody>
    </table>

    <script>
        // Cargar enemigos al cargar la página
        window.addEventListener('DOMContentLoaded', function() {
            fetch('/api/enemigo')
                .then(response => response.json())
                .then(enemigos => {
                    const tbody = document.getElementById('listaEnemigos');
                    const loading = document.getElementById('loading');
                    const tabla = document.getElementById('tablaEnemigos');

                    if (enemigos.length === 0) {
                        loading.textContent = 'No hay enemigos registrados';
                        return;
                    }

                    enemigos.forEach(enemigo => {
                        const fila = document.createElement('tr');
                        fila.innerHTML = `
                            <td>${enemigo.id}</td>
                            <td>${enemigo.nombre}</td>
                            <td>${enemigo.genero || 'N/A'}</td>
                            <td>${enemigo.pais_origen || 'N/A'}</td>
                            <td>${enemigo.nivel_amenaza || 'N/A'}</td>
                            <td>${enemigo.activo ? 'Sí' : 'No'}</td>
                        `;
                        tbody.appendChild(fila);
                    });

                    loading.style.display = 'none';
                    tabla.style.display = 'table';
                })
                .catch(error => {
                    console.error('Error al cargar enemigos:', error);
                    document.getElementById('loading').textContent = 'Error al cargar enemigos';
                });
        });
    </script>

</body>
</html>